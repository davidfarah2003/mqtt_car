{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ConnectedView from \"@/views/ConnectedView\";\nimport updateDataFromJSON from \"@/composables/responseUtils\";\nimport homeData from \"@/composables/dataObjects\";\nimport nav_overview from \"@/components/FCU/Nav_overview\";\nimport Staus_panel from \"@/components/Home/Status_panel\";\nimport { onMounted, ref } from \"vue\";\nexport default {\n  name: \"Home\",\n  components: {\n    Staus_panel,\n    ConnectedView,\n    nav_overview\n  },\n  setup: function () {\n    let subscribedTopics = []; //Array containing the subscribed topics for this component\n    let status_panel_fields = ref();\n    let sensorData = homeData;\n    function buildSubscribedTopics(sensorDataValue) {\n      Object.entries(sensorDataValue).forEach(([component_name, value]) => {\n        Object.keys(value).forEach(message_name => {\n          subscribedTopics.push(`${component_name}/${message_name}`);\n        });\n      });\n    }\n    buildSubscribedTopics(sensorData.value);\n    console.log(subscribedTopics);\n    onMounted(() => {\n      console.log(status_panel_fields.value);\n    });\n    let dataCallBack = receivedData => {\n      updateDataFromJSON(receivedData, sensorData);\n      console.log(sensorData);\n    };\n    let navshits = sensorData.value.battery.pack_info;\n    return {\n      subscribedTopics,\n      dataCallBack,\n      navshits,\n      status_panel_fields\n    };\n  }\n};","map":{"version":3,"mappings":";AAoBA,OAAOA,aAAY,MAAO,uBAAuB;AACjD,OAAOC,kBAAiB,MAAO,6BAA6B;AAC5D,OAAOC,QAAO,MAAO,2BAA2B;AAChD,OAAOC,YAAW,MAAO,+BAA+B;AACxD,OAAOC,WAAU,MAAO,gCAAgC;AACxD,SAAQC,SAAS,EAAEC,GAAG,QAAO,KAAK;AAElC,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE;IAACJ,WAAW;IAAEJ,aAAa;IAAEG;EAAY,CAAC;EAEtDM,KAAK,EAAE,YAAY;IACjB,IAAIC,gBAAe,GAAI,EAAE,EAAE;IAC3B,IAAIC,mBAAkB,GAAIL,GAAG,EAAE;IAE/B,IAAIM,UAAS,GAAIV,QAAO;IAExB,SAASW,qBAAqB,CAACC,eAAe,EAAC;MAC7CC,MAAM,CAACC,OAAO,CAACF,eAAe,CAAC,CAACG,OAAO,CAAC,CAAC,CAACC,cAAc,EAAEC,KAAK,CAAC,KAAK;QACnEJ,MAAM,CAACK,IAAI,CAACD,KAAK,CAAC,CAACF,OAAO,CAAGI,YAAY,IAAI;UAC3CX,gBAAgB,CAACY,IAAI,CAAE,GAAEJ,cAAe,IAAGG,YAAa,EAAC;QAC3D,CAAC;MACH,CAAC,CAAC;IACJ;IACAR,qBAAqB,CAACD,UAAU,CAACO,KAAK;IAEtCI,OAAO,CAACC,GAAG,CAACd,gBAAgB,CAAC;IAE7BL,SAAS,CAAC,MAAK;MACbkB,OAAO,CAACC,GAAG,CAACb,mBAAmB,CAACQ,KAAK;IAEvC,CAAC;IAED,IAAIM,YAAW,GAAKC,YAAY,IAAK;MACnCzB,kBAAkB,CAACyB,YAAY,EAAEd,UAAU;MAC3CW,OAAO,CAACC,GAAG,CAACZ,UAAU;IAExB;IACA,IAAIe,QAAO,GAAIf,UAAU,CAACO,KAAK,CAACS,OAAO,CAACC,SAAQ;IAEhD,OAAO;MAACnB,gBAAgB;MAAEe,YAAY;MAAEE,QAAQ;MAAEhB;IAAmB;EACvE;AACF","names":["ConnectedView","updateDataFromJSON","homeData","nav_overview","Staus_panel","onMounted","ref","name","components","setup","subscribedTopics","status_panel_fields","sensorData","buildSubscribedTopics","sensorDataValue","Object","entries","forEach","component_name","value","keys","message_name","push","console","log","dataCallBack","receivedData","navshits","battery","pack_info"],"sourceRoot":"","sources":["/home/davidf/Desktop/SSB/ssb-interface-v2/src/views/Home.vue"],"sourcesContent":["<template>\n  <section class=\"app-main\">\n    <connected-view  v-slot=\"data\" :subscribedTopics=\"subscribedTopics\" :dataCallBack=\"dataCallBack\">\n      <h1> Home </h1>\n      <h1 v-if=\"data.connected\">Connected</h1>\n      <h1 v-else>Disconnected</h1>\n\n      <nav_overview :ref=\"status_panel_fields\" ></nav_overview>\n\n      <staus_panel v-slot=\"used_fields\"></staus_panel>\n\n      <h3>Data: {{}}</h3>\n\n      <h4>Subscribed topics: {{data.subscribedTopics}}</h4>\n    </connected-view>\n\n  </section>\n</template>\n\n<script>\nimport ConnectedView from \"@/views/ConnectedView\";\nimport updateDataFromJSON from \"@/composables/responseUtils\";\nimport homeData from \"@/composables/dataObjects\";\nimport nav_overview from \"@/components/FCU/Nav_overview\";\nimport Staus_panel from \"@/components/Home/Status_panel\";\nimport {onMounted, ref} from \"vue\";\n\nexport default {\n  name: \"Home\",\n  components: {Staus_panel, ConnectedView, nav_overview},\n\n  setup: function () {\n    let subscribedTopics = []; //Array containing the subscribed topics for this component\n    let status_panel_fields = ref();\n\n    let sensorData = homeData\n\n    function buildSubscribedTopics(sensorDataValue){\n      Object.entries(sensorDataValue).forEach(([component_name, value]) => {\n        Object.keys(value).forEach( (message_name)=> {\n          subscribedTopics.push(`${component_name}/${message_name}`)\n        })\n      });\n    }\n    buildSubscribedTopics(sensorData.value)\n\n    console.log(subscribedTopics);\n\n    onMounted(()=> {\n      console.log(status_panel_fields.value)\n\n    })\n\n    let dataCallBack = (receivedData) => {\n      updateDataFromJSON(receivedData, sensorData)\n      console.log(sensorData)\n\n    }\n    let navshits = sensorData.value.battery.pack_info\n\n    return {subscribedTopics, dataCallBack, navshits, status_panel_fields}\n  }\n}\n\n</script>\n\n<style scoped>\n.app-main{\n  background: var(--primary);\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}