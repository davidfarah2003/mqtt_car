{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-752671e0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"plugin\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"status\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Flight State:\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"value\"\n};\nconst _hoisted_6 = {\n  class: \"status\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Arming State:\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"value\"\n};\nconst _hoisted_9 = {\n  class: \"status\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Control Mode:\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"value\"\n};\nconst _hoisted_12 = {\n  class: \"status\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Global State:\", -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"value\"\n};\nconst _hoisted_15 = {\n  class: \"status\"\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"State of Charge:\", -1 /* HOISTED */));\nconst _hoisted_17 = {\n  class: \"value\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"span\", _hoisted_1, [$setup.initialized ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"span\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.flightState), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_6, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, _toDisplayString($setup.armingState), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_9, [_hoisted_10, _createElementVNode(\"div\", _hoisted_11, _toDisplayString($setup.flightMode), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_12, [_hoisted_13, _createElementVNode(\"div\", _hoisted_14, _toDisplayString($setup.globalState), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_15, [_hoisted_16, _createElementVNode(\"div\", _hoisted_17, _toDisplayString($setup.dataObject[\"State of charge\"][0]) + _toDisplayString($setup.dataObject[\"State of charge\"][1]), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;;EACQA,KAAK,EAAC;AAAQ;;;EACbA,KAAK,EAAC;;;EACHA,KAAK,EAAC;AAAQ;gEAClBC,oBAA4B,eAArB,eAAa;;EACfD,KAAK,EAAC;AAAO;;EAEdA,KAAK,EAAC;AAAQ;gEAClBC,oBAA4B,eAArB,eAAa;;EACfD,KAAK,EAAC;AAAO;;EAEdA,KAAK,EAAC;AAAQ;iEAClBC,oBAA4B,eAArB,eAAa;;EACfD,KAAK,EAAC;AAAO;;EAEdA,KAAK,EAAC;AAAQ;iEAClBC,oBAA4B,eAArB,eAAa;;EACfD,KAAK,EAAC;AAAO;;EAEdA,KAAK,EAAC;AAAQ;iEAClBC,oBAA+B,eAAxB,kBAAgB;;EAClBD,KAAK,EAAC;AAAO;;uBApBxBE,oBAuBO,QAvBPC,UAuBO,GAtBwBC,kBAAW,kBAAxCF,oBAqBM,OArBNG,UAqBM,GApBJJ,oBAGO,QAHPK,UAGO,GAFLC,UAA4B,EAC5BN,oBAAwC,OAAxCO,UAAwC,mBAAnBJ,kBAAW,oBAElCH,oBAGO,QAHPQ,UAGO,GAFLC,UAA4B,EAC5BT,oBAAwC,OAAxCU,UAAwC,mBAAnBP,kBAAW,oBAElCH,oBAGO,QAHPW,UAGO,GAFLC,WAA4B,EAC5BZ,oBAAuC,OAAvCa,WAAuC,mBAAlBV,iBAAU,oBAEjCH,oBAGO,QAHPc,WAGO,GAFLC,WAA4B,EAC5Bf,oBAAwC,OAAxCgB,WAAwC,mBAAnBb,kBAAW,oBAElCH,oBAGO,QAHPiB,WAGO,GAFLC,WAA+B,EAC/BlB,oBAAiG,OAAjGmB,WAAiG,mBAA5EhB,iBAAU,2CAA0BA,iBAAU","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","$setup","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17"],"sourceRoot":"","sources":["/home/davidf/Desktop/SSB/ssb-interface-v2/src/components/General/Overview.vue"],"sourcesContent":["<template>\n  <span class=\"plugin\">\n    <div class=\"container\" v-if=\"initialized\">\n      <span class=\"status\">\n        <label>Flight State:</label>\n        <div class=\"value\">{{flightState}}</div>\n      </span>\n      <span class=\"status\">\n        <label>Arming State:</label>\n        <div class=\"value\">{{armingState}}</div>\n      </span>\n      <span class=\"status\">\n        <label>Control Mode:</label>\n        <div class=\"value\">{{flightMode}}</div>\n      </span>\n      <span class=\"status\">\n        <label>Global State:</label>\n        <div class=\"value\">{{globalState}}</div>\n      </span>\n      <span class=\"status\">\n        <label>State of Charge:</label>\n        <div class=\"value\">{{dataObject[\"State of charge\"][0]}}{{dataObject[\"State of charge\"][1]}}</div>\n      </span>\n    </div>\n  </span>\n\n</template>\n\n<script>\nimport {computed, ref, watch} from \"vue\";\n\nexport default {\n  name: \"Overview\",\n  props: ['canUpdate', 'connected'],\n  emits: ['subscribeToFields', 'updateData'],\n\n  setup(props, {emit}) {\n    let dataObject = ref({})\n    let initialized = ref(false)\n\n    let requiredFields = {\n      \"State Machine\": \"fcu/state_machine/*\",\n      \"State of charge\": \"battery/bat_for_pilot/soc\"\n    }\n\n    let connected = ref(props.connected)\n    watch(()=>props.connected, ()=>{\n      connected.value = props.connected\n    })\n\n    emit(\"subscribeToFields\", requiredFields)\n\n    setInterval( ()=>{\n      if (props.canUpdate) {\n        emit(\"updateData\", requiredFields, dataObject)\n        if(!initialized.value) initialized.value = true\n      }\n    } , 1000)\n\n\n    /**\n     * Returns flight state\n     * @returns {string}\n     **/\n    const flightState = computed(() => {\n      if(initialized.value){\n        switch (dataObject.value[\"State Machine\"][\"flight_state\"][0]) {\n          case 0:return \"Test\";\n          case 1:return \"Stopped\";\n          case 2:return \"Archimedian\";\n          case 3:return \"Taking off\";\n          case 4:return \"Landing\";\n          case 5:return \"Flying\";\n          case 6:return \"Crashing\";\n          case 7:return \"Crashed\";\n          default:return \"Unknown\";\n        }\n      }\n    })\n\n    /**\n     * Returns flight/control mode\n     * @returns {string}\n     */\n    const flightMode = computed(() => {\n      switch (dataObject.value[\"State Machine\"][\"flight_mode\"][0]) {\n        case 0: return \"Test\";\n        case 1:return \"Harbor\";\n        case 2:return \"Going\";\n        case 3:return \"Foil 1\";\n        case 4:return \"Foil 2\";\n        case 5:return \"Foil 3\";\n        case 6:return \"To harbor\";\n        case 7:return \"From harbor\";\n        default:return \"Unknown\";\n      }\n    })\n\n    const armingState = computed(() => {\n      switch (dataObject.value[\"State Machine\"][\"arming_state\"][0]) {\n        case 0:return \"Armed\";\n        case 1:return \"Armnig\";\n        case 2:return \"Arming Denied\";\n        case 3:return \"Disarmed\";\n        default:return \"Unknown\";\n      }\n    })\n\n    const globalState = computed(() => {\n      switch (dataObject.value[\"State Machine\"][\"global_state\"][0]) {\n        case 0:return \"Booting\";\n        case 1:return \"Calibration\";\n        case 2:return \"Ready\";\n        case 3:return \"Powering off\";\n        default:return \"Unknown\";\n      }\n    })\n\n    return {dataObject, initialized, connected, flightState, flightMode, armingState, globalState}\n  }\n}\n</script>\n\n<style scoped>\n.plugin {\n  color: var(--title_color);\n}\n.container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n}\nlabel {\n  font-size: 0.9rem;\n}\n.value {\n  font-size: 1.3rem;\n  padding-left: 1rem;\n}\n</style>"]},"metadata":{},"sourceType":"module"}