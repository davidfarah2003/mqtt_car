{"ast":null,"code":"import { computed, ref, watch } from \"vue\";\nexport default {\n  name: \"Status_panel\",\n  props: ['canUpdate'],\n  emits: ['subscribeFields', 'updateData'],\n  setup(props, _ref) {\n    let {\n      emit\n    } = _ref;\n    let dataObject = ref({});\n    let initialized = ref(false);\n    let requiredFields = {\n      \"M1 status\": \"motor_controller_1/pwm/warnings\",\n      \"M2 status\": \"motor_controller_2/pwm/warnings\",\n      main_sts: \"main_position_motor/txpdo_1/statusword\",\n      back_sts: \"back_position_motor/txpdo_1/statusword\",\n      lat_sts: \"lat_position_motor/txpdo_1/statusword\",\n      fcu_sts: \"fcu/status_01/general_status\",\n      imu_sts: \"imu/status_01/general_status\",\n      battery_status: \"battery/pack_info/status\",\n      height_sensor_sts: \"fcu/height_sensor/height_sensor_status\"\n    };\n    emit(\"subscribeFields\", requiredFields);\n    setInterval(() => {\n      if (props.canUpdate) {\n        emit(\"updateData\", requiredFields, dataObject);\n        if (!initialized.value) initialized.value = true;\n      }\n    }, 200);\n    let statuses = computed(() => {\n      if (dataObject.value) {\n        return {};\n      }\n      return {};\n    });\n    return {\n      dataObject,\n      initialized\n    };\n  }\n};","map":{"version":3,"mappings":"AASA,SAAQA,QAAQ,EAAEC,GAAG,EAAEC,KAAK,QAAO,KAAK;AAExC,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,KAAK,EAAE,CAAC,WAAW,CAAC;EACpBC,KAAK,EAAE,CAAC,iBAAiB,EAAE,YAAY,CAAC;EAExCC,KAAK,CAACF,KAAK,QAAU;IAAA,IAAR;MAACG;IAAI,CAAC;IACjB,IAAIC,UAAS,GAAIP,GAAG,CAAC,CAAC,CAAC;IACvB,IAAIQ,WAAU,GAAIR,GAAG,CAAC,KAAK;IAE3B,IAAIS,cAAa,GAAI;MACnB,WAAW,EAAE,iCAAiC;MAC9C,WAAW,EAAE,iCAAiC;MAC9CC,QAAQ,EAAE,wCAAwC;MAClDC,QAAQ,EAAE,wCAAwC;MAClDC,OAAO,EAAE,uCAAuC;MAChDC,OAAO,EAAE,8BAA8B;MACvCC,OAAO,EAAE,8BAA8B;MACvCC,cAAc,EAAE,0BAA0B;MAC1CC,iBAAiB,EAAE;IACrB;IAEAV,IAAI,CAAC,iBAAiB,EAAEG,cAAc;IAEtCQ,WAAW,CAAE,MAAI;MACf,IAAId,KAAK,CAACe,SAAS,EAAE;QACnBZ,IAAI,CAAC,YAAY,EAAEG,cAAc,EAAEF,UAAU;QAC7C,IAAG,CAACC,WAAW,CAACW,KAAK,EAAEX,WAAW,CAACW,KAAI,GAAI,IAAG;MAChD;IACF,GAAI,GAAE,CAAE;IAER,IAAIC,QAAO,GAAIrB,QAAQ,CAAC,MAAI;MAC1B,IAAIQ,UAAU,CAACY,KAAK,EAAE;QACpB,OAAO,CAAC;MACV;MACA,OAAO,CAAC;IACV,CAAC;IAED,OAAO;MAACZ,UAAU;MAAEC;IAAW;EACjC;AACF","names":["computed","ref","watch","name","props","emits","setup","emit","dataObject","initialized","requiredFields","main_sts","back_sts","lat_sts","fcu_sts","imu_sts","battery_status","height_sensor_sts","setInterval","canUpdate","value","statuses"],"sourceRoot":"","sources":["/home/davidf/Desktop/SSB/ssb-interface-v2/src/components/Home/Status_panel.vue"],"sourcesContent":["<template>\n  <span v-if=\"initialized\">\n    <div v-if=\"dataObject['M1 status'][0]\">\n      <div class=\"online\"/>\n    </div>\n  </span>\n</template>\n\n<script>\nimport {computed, ref, watch} from \"vue\";\n\nexport default {\n  name: \"Status_panel\",\n  props: ['canUpdate'],\n  emits: ['subscribeFields', 'updateData'],\n\n  setup(props, {emit}) {\n    let dataObject = ref({})\n    let initialized = ref(false)\n\n    let requiredFields = {\n      \"M1 status\": \"motor_controller_1/pwm/warnings\",\n      \"M2 status\": \"motor_controller_2/pwm/warnings\",\n      main_sts: \"main_position_motor/txpdo_1/statusword\",\n      back_sts: \"back_position_motor/txpdo_1/statusword\",\n      lat_sts: \"lat_position_motor/txpdo_1/statusword\",\n      fcu_sts: \"fcu/status_01/general_status\",\n      imu_sts: \"imu/status_01/general_status\",\n      battery_status: \"battery/pack_info/status\",\n      height_sensor_sts: \"fcu/height_sensor/height_sensor_status\",\n    }\n\n    emit(\"subscribeFields\", requiredFields)\n\n    setInterval( ()=>{\n      if (props.canUpdate) {\n        emit(\"updateData\", requiredFields, dataObject)\n        if(!initialized.value) initialized.value = true\n      }\n    } , 200 )\n\n    let statuses = computed(()=>{\n      if (dataObject.value) {\n        return {}\n      }\n      return {}\n    })\n\n    return {dataObject, initialized}\n  }\n}\n</script>\n\n<style scoped>\n.online {\n  background: green;\n  border-radius: 50%;\n  width: 1rem;\n  height: 1rem;\n}\n\nspan {\n  border: 1px solid red;\n}\n</style>"]},"metadata":{},"sourceType":"module"}