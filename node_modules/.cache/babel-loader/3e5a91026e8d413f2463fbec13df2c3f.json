{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_icon = _resolveComponent(\"b-icon\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [$setup.initialized ? (_openBlock(), _createElementBlock(\"h1\", _hoisted_1, _toDisplayString($setup.dataObject[\"motor_1_current\"]), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_b_icon, {\n    icon: \"circle-fill\",\n    variant: \"success\"\n  }), _createTextVNode(\" Motor Main Position\"), _hoisted_2], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;;;gCAE6EA,oBAAI;;;;6DADrEC,kBAAW,kBAArBC,oBAA6D,mCAApCD,iBAAU,0EACnCE,aAAsDC;IAA9CC,IAAI,EAAC,aAAa;IAACC,OAAO,EAAC;uBAAmB,sBAAqB,aAAI","names":["_createElementVNode","$setup","_createElementBlock","_createVNode","_component_b_icon","icon","variant"],"sourceRoot":"","sources":["/home/davidf/Desktop/SSB/ssb-interface-v2/src/components/Home/Status_panel.vue"],"sourcesContent":["<template>\n  <h1 v-if=\"initialized\">{{dataObject[\"motor_1_current\"]}}</h1>\n  <b-icon icon=\"circle-fill\" variant=\"success\"></b-icon>  Motor Main Position<br>\n</template>\n\n<script>\nimport {computed, ref, watch} from \"vue\";\n\nexport default {\n  name: \"Status_panel\",\n  props: ['canUpdate'],\n  emits: ['subscribeFields', 'updateData'],\n\n  setup(props, {emit}) {\n    let dataObject = ref({})\n    let initialized = ref(false)\n\n    let requiredFields = {\n      motor_1_current: \"fcu/bridge_motor/motor_1_current\",\n      motor_2_current: \"fcu/bridge_motor/motor_2_current\",\n      main_sts: \"main_position_motor/txpdo_1/statusword\",\n      back_sts: \"back_position_motor/txpdo_1/statusword\",\n      lat_sts: \"lat_position_motor/txpdo_1/statusword\",\n      fcu_sts: \"fcu/status_01/general_status\",\n      imu_sts: \"imu/status_01/general_status\",\n      battery_current: \"battery/pack_info/current\",\n      battery_status: \"battery/pack_info/status\",\n      height_sensor_sts: \"fcu/height_sensor/height_sensor_status\",\n      cockpit_speed_command: \"cockpit_arduino/pilot_command_01/speedcommand\",\n    }\n\n    emit(\"subscribeFields\", requiredFields)\n\n    setInterval( ()=>{\n      if (props.canUpdate) {\n        console.log(\"I can update\")\n        emit(\"updateData\", requiredFields, dataObject)\n        initialized.value = true\n      }\n    } , 200 )\n\n\n    let statuses = computed(()=>{\n      if (dataObject.value) return dataObject\n    })\n\n    return {dataObject, initialized}\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}