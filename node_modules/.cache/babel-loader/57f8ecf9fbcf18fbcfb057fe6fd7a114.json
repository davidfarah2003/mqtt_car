{"ast":null,"code":"import _slicedToArray from \"/home/davidf/Desktop/EPFL/mqtt_car/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/home/davidf/Desktop/EPFL/mqtt_car/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/davidf/Desktop/EPFL/mqtt_car/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classPrivateMethodInitSpec from \"/home/davidf/Desktop/EPFL/mqtt_car/node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js\";\nimport _classPrivateFieldInitSpec from \"/home/davidf/Desktop/EPFL/mqtt_car/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"/home/davidf/Desktop/EPFL/mqtt_car/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js\";\nimport _classPrivateMethodGet from \"/home/davidf/Desktop/EPFL/mqtt_car/node_modules/@babel/runtime/helpers/esm/classPrivateMethodGet.js\";\nimport _classPrivateFieldSet from \"/home/davidf/Desktop/EPFL/mqtt_car/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.weak-map.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.weak-set.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nvar _configObject = /*#__PURE__*/new WeakMap();\nvar _dataObject = /*#__PURE__*/new WeakMap();\nvar _buildDataObject = /*#__PURE__*/new WeakSet();\nvar _createNestedObject = /*#__PURE__*/new WeakSet();\nvar _printObject = /*#__PURE__*/new WeakSet();\nvar ConfigUtils = /*#__PURE__*/function () {\n  /**\n   * Constructor of the class\n   * @param configObject the configuration javascript object retrieved from the api\n   */\n  function ConfigUtils(configObject) {\n    _classCallCheck(this, ConfigUtils);\n    _classPrivateMethodInitSpec(this, _printObject);\n    _classPrivateMethodInitSpec(this, _createNestedObject);\n    _classPrivateMethodInitSpec(this, _buildDataObject);\n    _classPrivateFieldInitSpec(this, _configObject, {\n      writable: true,\n      value: null\n    });\n    _classPrivateFieldInitSpec(this, _dataObject, {\n      writable: true,\n      value: null\n    });\n    try {\n      _classPrivateFieldSet(this, _configObject, configObject);\n      _classPrivateMethodGet(this, _buildDataObject, _buildDataObject2).call(this);\n    } catch (e) {\n      console.log(e);\n      process.exit(1);\n    }\n  }\n\n  /**\n   * method that build the data object used to update values in the pages\n   * initialize values to null\n   */\n  _createClass(ConfigUtils, [{\n    key: \"getDataObject\",\n    value:\n    //---------------GETTERS----------------------\n\n    function getDataObject() {\n      return _classPrivateFieldGet(this, _dataObject);\n    }\n  }]);\n  return ConfigUtils;\n}();\nfunction _buildDataObject2() {\n  var _this = this;\n  _classPrivateFieldSet(this, _dataObject, {});\n  if (_classPrivateFieldGet(this, _configObject)) {\n    Object.entries(_classPrivateFieldGet(this, _configObject)).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        componentName = _ref2[0],\n        component = _ref2[1];\n      Object.entries(component).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n          subTopicName = _ref4[0],\n          subtopic = _ref4[1];\n        _classPrivateMethodGet(_this, _createNestedObject, _createNestedObject2).call(_this, _classPrivateFieldGet(_this, _dataObject), [componentName, subTopicName], [null, subtopic[\"unit\"]]);\n      });\n    });\n  }\n}\nfunction _createNestedObject2(base, names, value) {\n  // If a value is given, remove the last name and keep it for later:\n  var lastName = arguments.length === 3 ? names.pop() : false;\n\n  // Walk the hierarchy, creating new objects where needed.\n  // If the lastName was removed, then the last object is not set yet:\n  for (var i = 0; i < names.length; i++) {\n    base = base[names[i]] = base[names[i]] || {};\n  }\n\n  // If a value was given, set it to the last name:\n  if (lastName) base = base[lastName] = value;\n\n  // Return the last object in the hierarchy:\n  return base;\n}\nfunction _printObject2(obj) {\n  console.log(JSON.stringify(obj, null, 2));\n}\nexport { ConfigUtils as default };","map":{"version":3,"names":["ConfigUtils","configObject","e","console","log","process","exit","Object","entries","forEach","componentName","component","subTopicName","subtopic","base","names","value","lastName","arguments","length","pop","i","obj","JSON","stringify"],"sources":["/home/davidf/Desktop/EPFL/mqtt_car/src/composables/configUtils.mjs"],"sourcesContent":["\nexport default class ConfigUtils {\n    #configObject = null\n    #dataObject = null\n\n    /**\n     * Constructor of the class\n     * @param configObject the configuration javascript object retrieved from the api\n     */\n    constructor(configObject) {\n        try {\n            this.#configObject = configObject\n            this.#buildDataObject()\n        } catch (e) {\n            console.log(e);\n            process.exit(1)\n        }\n    }\n\n    /**\n     * method that build the data object used to update values in the pages\n     * initialize values to null\n     */\n    #buildDataObject() {\n        this.#dataObject = {}\n        if (this.#configObject) {\n            Object.entries(this.#configObject).forEach(([componentName, component]) => {\n                Object.entries(component).forEach(([subTopicName, subtopic]) => {\n                        this.#createNestedObject(\n                            this.#dataObject,\n                            [componentName, subTopicName],\n                            [null, subtopic[\"unit\"]]\n                            )\n                })\n            })\n        }\n    }\n\n    /**\n     * Method that assigns a value to the path names in the base, or creates the element dynamically if required\n     * It updates the original base, so no need to reassign\n     * @param base\n     * @param names\n     * @param value\n     * @returns {*}\n     */\n    #createNestedObject(base, names, value) {\n        // If a value is given, remove the last name and keep it for later:\n        let lastName = arguments.length === 3 ? names.pop() : false;\n\n        // Walk the hierarchy, creating new objects where needed.\n        // If the lastName was removed, then the last object is not set yet:\n        for(let i = 0; i < names.length; i++ ) {\n            base = base[ names[i] ] = base[ names[i] ] || {};\n        }\n\n        // If a value was given, set it to the last name:\n        if( lastName ) base = base[ lastName ] = value;\n\n        // Return the last object in the hierarchy:\n        return base;\n    };\n\n\n    /**\n     * Pretty print javascript object\n     * @param obj\n     */\n    #printObject(obj) {\n        console.log(JSON.stringify(obj, null, 2))\n    }\n\n    //---------------GETTERS----------------------\n\n    getDataObject(){\n        return this.#dataObject\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;IACqBA,WAAW;EAI5B;AACJ;AACA;AACA;EACI,qBAAYC,YAAY,EAAE;IAAA;IAAA;IAAA;IAAA;IAAA;MAAA;MAAA,OAPV;IAAI;IAAA;MAAA;MAAA,OACN;IAAI;IAOd,IAAI;MACA,0BAAI,iBAAiBA,YAAY;MACjC,2BAAI,4CAAJ,IAAI;IACR,CAAC,CAAC,OAAOC,CAAC,EAAE;MACRC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MACdG,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;IACnB;EACJ;;EAEA;AACJ;AACA;AACA;EAHI;IAAA;IAAA;IAqDA;;IAEA,yBAAe;MACX,6BAAO,IAAI;IACf;EAAC;EAAA;AAAA;AAAA,6BArDkB;EAAA;EACf,0BAAI,eAAe,CAAC,CAAC;EACrB,0BAAI,IAAI,kBAAgB;IACpBC,MAAM,CAACC,OAAO,uBAAC,IAAI,iBAAe,CAACC,OAAO,CAAC,gBAAgC;MAAA;QAA9BC,aAAa;QAAEC,SAAS;MACjEJ,MAAM,CAACC,OAAO,CAACG,SAAS,CAAC,CAACF,OAAO,CAAC,iBAA8B;QAAA;UAA5BG,YAAY;UAAEC,QAAQ;QAClD,4BAAI,kDAAJ,KAAI,wBACA,KAAI,gBACJ,CAACH,aAAa,EAAEE,YAAY,CAAC,EAC7B,CAAC,IAAI,EAAEC,QAAQ,CAAC,MAAM,CAAC,CAAC;MAEpC,CAAC,CAAC;IACN,CAAC,CAAC;EACN;AACJ;AAAC,8BAUmBC,IAAI,EAAEC,KAAK,EAAEC,KAAK,EAAE;EACpC;EACA,IAAIC,QAAQ,GAAGC,SAAS,CAACC,MAAM,KAAK,CAAC,GAAGJ,KAAK,CAACK,GAAG,EAAE,GAAG,KAAK;;EAE3D;EACA;EACA,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,KAAK,CAACI,MAAM,EAAEE,CAAC,EAAE,EAAG;IACnCP,IAAI,GAAGA,IAAI,CAAEC,KAAK,CAACM,CAAC,CAAC,CAAE,GAAGP,IAAI,CAAEC,KAAK,CAACM,CAAC,CAAC,CAAE,IAAI,CAAC,CAAC;EACpD;;EAEA;EACA,IAAIJ,QAAQ,EAAGH,IAAI,GAAGA,IAAI,CAAEG,QAAQ,CAAE,GAAGD,KAAK;;EAE9C;EACA,OAAOF,IAAI;AACf;AAAC,uBAOYQ,GAAG,EAAE;EACdnB,OAAO,CAACC,GAAG,CAACmB,IAAI,CAACC,SAAS,CAACF,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAC7C;AAAC,SArEgBtB,WAAW"},"metadata":{},"sourceType":"module"}