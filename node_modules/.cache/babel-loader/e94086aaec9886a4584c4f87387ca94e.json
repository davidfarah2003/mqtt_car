{"ast":null,"code":"import { ref } from \"vue\";\nimport modal from \"bootstrap/js/src/modal\";\nexport default {\n  name: \"Ctrl_panel\",\n  computed: {\n    modal() {\n      return modal;\n    }\n  },\n  props: ['canUpdate', 'mqttUtil'],\n  emits: ['subscribeToFields', 'updateData'],\n  setup(props, _ref) {\n    let {\n      emit\n    } = _ref;\n    let dataObject = ref({});\n    let initialized = ref(false);\n    let requiredFields = {};\n    emit(\"subscribeToFields\", requiredFields);\n    setInterval(() => {\n      if (props.canUpdate) {\n        emit(\"updateData\", requiredFields, dataObject);\n        if (!initialized.value) initialized.value = true;\n      }\n    }, 1000);\n    const test = ref(false);\n    function send() {}\n    return {\n      dataObject,\n      initialized,\n      test\n    };\n  }\n};","map":{"version":3,"mappings":"AAwDA,SAAQA,GAAG,QAAO,KAAK;AACvB,OAAOC,KAAI,MAAO,wBAAwB;AAG1C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,QAAQ,EAAE;IACRF,KAAK,GAAG;MACN,OAAOA,KAAI;IACb;EACF,CAAC;EACDG,KAAK,EAAE,CAAC,WAAW,EAAE,UAAU,CAAC;EAChCC,KAAK,EAAE,CAAC,mBAAmB,EAAE,YAAY,CAAC;EAE1CC,KAAK,CAACF,KAAK,QAAU;IAAA,IAAR;MAACG;IAAI,CAAC;IACjB,IAAIC,UAAS,GAAIR,GAAG,CAAC,CAAC,CAAC;IACvB,IAAIS,WAAU,GAAIT,GAAG,CAAC,KAAK;IAE3B,IAAIU,cAAa,GAAI,CACrB;IAEAH,IAAI,CAAC,mBAAmB,EAAEG,cAAc;IAExCC,WAAW,CAAE,MAAI;MACf,IAAIP,KAAK,CAACQ,SAAS,EAAE;QACnBL,IAAI,CAAC,YAAY,EAAEG,cAAc,EAAEF,UAAU;QAC7C,IAAG,CAACC,WAAW,CAACI,KAAK,EAAEJ,WAAW,CAACI,KAAI,GAAI,IAAG;MAChD;IACF,GAAI,IAAI;IAER,MAAMC,IAAG,GAAId,GAAG,CAAC,KAAK;IACtB,SAASe,IAAI,GAAE,CAAC;IAChB,OAAO;MAACP,UAAU;MAAEC,WAAW;MAAEK;IAAI;EACvC;AACF","names":["ref","modal","name","computed","props","emits","setup","emit","dataObject","initialized","requiredFields","setInterval","canUpdate","value","test","send"],"sourceRoot":"","sources":["/home/davidf/Desktop/SSB/ssb-interface-v2/src/components/Home/Ctrl_panel.vue"],"sourcesContent":["<template>\n  <div class=\"plugin\">\n    <div class=\"label-button\">\n      <label>Change parameters</label>\n      <b-button-group size=\"sm\">\n        <b-button @click=\"test = !test\">FCU</b-button>\n        <b-button @click=\"mqttUtil.sendCommand('cockpit_configuration', [69,42])\">Maxon</b-button>\n        <b-button >Battery</b-button>\n      </b-button-group>\n    </div>\n\n    <div class=\"label-button\">\n      <label>Raspberry</label>\n      <b-button variant=\"danger\" block=\"true\">Power off</b-button>\n    </div>\n\n\n    <div class=\"label-button\">\n      <label>Maxon Clear Error</label>\n      <b-button-group>\n        <b-button variant=\"danger\" block=\"true\">Clear Error</b-button>\n      </b-button-group>\n    </div>\n\n    <div class=\"label-button\">\n      <label>Configurations</label>\n      <b-button block=\"true\">Control</b-button>\n    </div>\n\n\n    <div class=\"label-button\">\n      <label>Logging</label>\n      <b-button-group>\n        <b-button  variant=\"info\">Start</b-button>\n        <b-button variant=\"warning\">Stop</b-button>\n      </b-button-group>\n    </div>\n\n\n    <div>\n      <b-alert show>alertLog</b-alert>\n    </div>\n\n    <b-modal id=\"fcu-parameters-modal\" title=\"FCU Parameters\">\n      <p>Select sub-system</p>\n      <b-form-select></b-form-select>\n      <b-form-select></b-form-select>\n    </b-modal>\n\n    <b-modal v-model=\"test\">\n      Foo bar\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport {ref} from \"vue\";\nimport modal from \"bootstrap/js/src/modal\";\n\n\nexport default {\n  name: \"Ctrl_panel\",\n  computed: {\n    modal() {\n      return modal\n    }\n  },\n  props: ['canUpdate', 'mqttUtil'],\n  emits: ['subscribeToFields', 'updateData'],\n\n  setup(props, {emit}) {\n    let dataObject = ref({})\n    let initialized = ref(false)\n\n    let requiredFields = {\n    }\n\n    emit(\"subscribeToFields\", requiredFields)\n\n    setInterval( ()=>{\n      if (props.canUpdate) {\n        emit(\"updateData\", requiredFields, dataObject)\n        if(!initialized.value) initialized.value = true\n      }\n    } , 1000)\n\n    const test = ref(false)\n    function send(){}\n    return {dataObject, initialized, test}\n  }\n}\n</script>\n\n<style scoped>\n.plugin{\n  color: var(--title_color);\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  overflow: hidden;\n}\n\n.label-button {\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\nb-button {\n\n}\n\nlabel {\n  text-align: center;\n  padding-bottom: 0.2rem;\n  font-size: 0.8rem;\n}\n</style>"]},"metadata":{},"sourceType":"module"}